"use strict";angular.module("weatherApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","uiGmapgoogle-maps"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/home.html",controller:"HomeCtrl"}).when("/forecast",{templateUrl:"views/forecast.html",controller:"ForecastCtrl"}).when("/forecast/:days",{templateUrl:"views/forecast.html",controller:"ForecastCtrl"}).otherwise({redirectTo:"/",controller:"HomeCtrl"})}]),angular.module("weatherApp").service("cityNameService",function(){this.city="San Francisco, CA"}),angular.module("weatherApp").service("weatherAPIService",["$resource",function(a){this.getWeather=function(b,c){var d=a("http://api.openweathermap.org/data/2.5/forecast/daily",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});return d.get({q:b,cnt:c})}}]),angular.module("weatherApp").controller("HomeCtrl",["$scope","$location","cityNameService",function(a,b,c){a.city=c.city,a.$watch("city",function(){c.city=a.city}),console.log(a.city),a.submit=function(){b.path("/forecast")}}]),angular.module("weatherApp").controller("NavBarCtrl",["$scope","$routeParams","$location",function(a,b,c){a.isActive=function(a){return a===c.path()?"active":""}}]),angular.module("weatherApp").controller("ForecastCtrl",["$scope","$routeParams","cityNameService","weatherAPIService",function(a,b,c,d){a.city=c.city.toUpperCase(),a.days=b.days||2,a.weatherResult=d.getWeather(a.city,a.days),a.weatherResult.$promise.then(function(b){console.log(b.city.coord.lon),a.map={center:{latitude:b.city.coord.lat,longitude:b.city.coord.lon},zoom:8}},function(a){console.log(a)}),a.convertToFahrenheit=function(a){return Math.round(1.8*(a-273)+32)},a.convertDateFormat=function(a){return new Date(1e3*a)}}]),angular.module("weatherApp").directive("dailyReport",function(){return{restrict:" EA",templateUrl:"scripts/customdirectives/dailyreport.html",replace:!0,scope:{weatherDay:"=",convertToStandard:"&",convertToDate:"&",dateFormat:"@"}}});